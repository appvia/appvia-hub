<%= bootstrap_form_with(model: project, local: true) do |form| %>
  <%= form.alert_message "Please fix the issues below:" %>

  <% if project.new_record? %>
    <%=
      form.select :team_id,
        teams.map { |i| [i.name, i.id] },
        {
          label: 'Team',
          include_blank: true,
          required: true
        },
        { class: 'selectpicker' }
    %>
  <% else %>
    <%= form.hidden_field :team_id %>
    <%=
      form.static_control :team_name,
        value: project.team.name,
        label: 'Team'
    %>
  <% end %>

  <%= form.text_field :name %>

  <% if project.new_record? %>
    <%=
      form.text_field :slug,
        help: Project::SLUG_FORMAT_TEXT.capitalize,
        pattern: "^#{Project::SLUG_FORMAT_REGEX}$"
    %>
  <% else %>
    <%= form.static_control :slug %>
  <% end %>

  <%= form.text_area :description %>

  <% submit_label = project.new_record? ? 'Create space' : 'Update space' %>
  <%= form.primary submit_label %>
<% end %>
